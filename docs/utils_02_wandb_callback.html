---

title: Title

keywords: fastai
sidebar: home_sidebar

summary: "summary"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/utils_02_wandb_callback.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><h1> Custom <code>[`WandbCallback`](/CinemaNet/utils_02_wandb_callback#WandbCallback)</code> for <code>`fastai`</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This code is copied from the official fastai <a href="/CinemaNet/utils_02_wandb_callback#WandbCallback"><code>WandbCallback</code></a> from <a href="https://github.com/wandb/client/blob/master/wandb/fastai/__init__.py#L205">here</a>, and then tweaked to optionally add logging of a confusion matrix at the end of training by modifying the <code>on_train_end</code> method</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WandbCallback" class="doc_header"><code>class</code> <code>WandbCallback</code><a href="https://github.com/Synopsis/CinemaNet/tree/vision_models/CinemaNet/wandb.py#L21" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WandbCallback</code>(<strong><code>learn</code></strong>, <strong><code>log</code></strong>=<em><code>'gradients'</code></em>, <strong><code>save_model</code></strong>=<em><code>True</code></em>, <strong><code>monitor</code></strong>=<em><code>None</code></em>, <strong><code>mode</code></strong>=<em><code>'auto'</code></em>, <strong><code>input_type</code></strong>=<em><code>None</code></em>, <strong><code>validation_data</code></strong>=<em><code>None</code></em>, <strong><code>predictions</code></strong>=<em><code>36</code></em>, <strong><code>confusion_matrix</code></strong>=<em><code>True</code></em>, <strong><code>conf_dpi</code></strong>=<em><code>150</code></em>, <strong><code>seed</code></strong>=<em><code>12345</code></em>) :: <code>TrackerCallback</code></p>
</blockquote>
<p>Automatically saves model topology, losses &amp; metrics.
Optionally logs weights, gradients, sample predictions and best trained model.
Args:
    learn (fastai.basic_train.Learner): the fast.ai learner to hook.
    log (str): "gradients", "parameters", "all", or None. Losses &amp; metrics are always logged.
    save_model (bool): save model at the end of each epoch. It will also load best model at the end of training.
    monitor (str): metric to monitor for saving best model. None uses default TrackerCallback monitor value.
    mode (str): "auto", "min" or "max" to compare "monitor" values and define best model.
    input_type (str): "images" or None. Used to display sample predictions.
    validation_data (list): data used for sample predictions if input_type is set.
    predictions (int): number of predictions to make if input_type is set and validation_data is None.
    seed (int): initialize random generator for sample predictions if input_type is set and validation_data is None.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Export">Export<a class="anchor-link" href="#Export">&#182;</a></h3>
</div>
</div>
</div>
</div>
 

